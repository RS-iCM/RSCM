#!/bin/bash
# ==============================================================================
# RSCM Binder Start Script
# ==============================================================================
# This script runs when the Binder session starts
# ==============================================================================

# Ensure C library is compiled
if [ ! -f "CodeC/RSCM_lib.so" ]; then
    echo "Compiling C library..."
    cd CodeC
    gcc -shared -o RSCM_lib.so -fPIC RSCM_v1.c powell_min.c -lm -O2
    cd ..
fi

# Start JupyterLab
exec "$@"
